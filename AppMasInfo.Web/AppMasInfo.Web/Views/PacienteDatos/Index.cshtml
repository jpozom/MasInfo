@model AppMasInfo.Web.Models.PacienteDatosViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutHome.cshtml";
}

@section Scripts{
    <script type="text/javascript">

         $(function () {
            var saveMessage = '@TempData["SaveOkMessage"]';
            if (saveMessage !== '') {
                showMessageDialog(
                    BootstrapDialog.TYPE_SUCCESS,
                    'Información',
                    saveMessage
                );
            }

            var errorMessage = '@TempData["ErrorMessage"]';
            if (errorMessage !== '') {
                ShowMessageDialog(
                   BootstrapDialog.TYPE_DANGER,
                   'Error',
                   errorMessage
               );
            }
        });
    </script>
}

<div class="panel panel-primary">
    <div class="panel-body" id="panel">
        <div style="font-size: 18px;">
            Bienvenido &nbsp;<strong>@Model.NombreTutor &nbsp; @Model.ApellidoPaternoTutor &nbsp; @Model.ApellidoMaternoTutor </strong>
        </div>

        <br />

        <div class="row">
            <div class="col-lg-12">
                <div class="panel-group" id="accordion-test-2">
                    <div class="panel panel-info panel-color">
                        <div class="panel-heading" style="background:#3292e0;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion-test-2" href="#collapseOne-2" aria-expanded="false" class="collapsed">
                                    <i class="glyphicon glyphicon-info-sign">&nbsp;</i>@Model.DetallePaciente.Nombre &nbsp; @Model.DetallePaciente.ApellidoPaterno &nbsp; @Model.DetallePaciente.ApellidoMaterno
                                </a>
                            </h4>
                        </div>
                        <div id="collapseOne-2" class="panel-collapse collapse">
                            <div class="panel-body">
                                <fieldset>
                                    <div class="list-group">
                                        <a href="#" class="list-group-item col-md-10" style="border:none !important;"><strong>Nombre: &nbsp;  @Model.DetallePaciente.Nombre &nbsp; @Model.DetallePaciente.ApellidoPaterno &nbsp; @Model.DetallePaciente.ApellidoMaterno</strong></a>
                                        <a href="#" class="list-group-item col-md-10" style="border:none !important;"><strong>RUT: &nbsp;  @Model.DetallePaciente.Rut </strong></a>
                                        <a href="#" class="list-group-item col-md-10" style="border:none !important;"><strong>Edad: &nbsp;  @Model.DetallePaciente.Edad </strong></a>
                                        <a href="#" class="list-group-item col-md-10" style="border:none !important;"><strong>Direccion: &nbsp;  @Model.DetallePaciente.Direccion </strong></a>
                                        <a href="#" class="list-group-item col-md-10" style="border:none !important;"><strong>Telefono: &nbsp;  @Model.DetallePaciente.NumeroTelefono </strong></a>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                <div class="panel-group" id="accordion-test-2">
                    <div class="panel panel-info panel-color">
                        <div class="panel-heading" style="background:#3292e0;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion-test-2" href="#collapseTwo-2" aria-expanded="false" class="collapsed">
                                    <i class="glyphicon glyphicon-map-marker">&nbsp;</i>Ubicaci&oacute;n Actual: &nbsp;  @Model.DetalleUbicacion.Descripcion &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    <i class="glyphicon glyphicon-calendar">&nbsp;</i>Ingreso: &nbsp; @Model.FchIngreso
                                </a>
                            </h4>
                        </div>
                        <div id="collapseTwo-2" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <fieldset>
                                    <span>@Model.Observacion </span>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-12">
                <div class="panel-group" id="accordion-test-2">
                    <div class="panel panel-info panel-color">
                        <div class="panel-heading" style="background:#3292e0;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion-test-2" href="#collapseThree-2" aria-expanded="false" class="collapsed">
                                    <i class="glyphicon glyphicon-list-alt">&nbsp;</i>Lista Ubicaciones del Paciente
                                </a>
                            </h4>
                        </div>
                        <div id="collapseThree-2" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <fieldset>
                                    <fieldset>
                                        <table id="" class="table table-hover" role="grid" aria-describedby="datatable_info">
                                            <thead>
                                                <tr>                                                   
                                                    <th><h6 align="left">Rut</h6></th>
                                                    <th><h6 align="left">Nombre Paciente</h6></th>
                                                    <th><h6 align="left">Ubicaciones</h6></th>
                                                    <th><h6 align="left">Ingreso</h6></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @if (Model.LstPacienteUbicacion.Count() > 0)
                                                {
                                                    foreach (var item in Model.LstPacienteUbicacion)
                                                    {
                                                        <tr>                                                            
                                                            <td>@item.DetallePaciente.Rut</td>
                                                            <td>@item.DetallePaciente.Nombre &nbsp;@item.DetallePaciente.ApellidoPaterno &nbsp;@item.DetallePaciente.ApellidoMaterno</td>
                                                            <td>@item.DetalleUbicacion.Descripcion</td>
                                                            <td>@item.FchIngreso</td>
                                                        </tr>
                                                    }
                                                }
                                                else
                                                {
                                                    <tr><td colspan="5">No existen datos</td></tr>
                                                }
                                            </tbody>
                                        </table>
                                    </fieldset>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br />

        <fieldset>
            <legend style="font-size: 15px;">Conozca al Equipo M&eacute;dico A Cargo</legend>
            <br />
            <div class="form-group col-sm-12">
                <div class="col-md-12 text-left">
                    <a href='@Url.Action("EquipoTrabajo", "PacienteDatos", new { p_Id = Model.IdPaciente})' class="btn btn-primary" role="button" aria-pressed="true">
                        <i class="glyphicon glyphicon-wrench">&nbsp;</i>Equipo Clínico
                    </a>
                </div>
            </div>
        </fieldset>

    </div>
</div>
